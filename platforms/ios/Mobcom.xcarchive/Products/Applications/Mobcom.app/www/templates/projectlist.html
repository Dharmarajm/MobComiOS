<ion-view cache-view="false" ng-init="projectlist()">
  <link href="css/projectlist.css" rel="stylesheet" >
  
  <ion-header-bar>
         <div class="row">  
             <div class="col col-10" ng-click="projectback()"><i class="button-icon ion-android-arrow-back close"></i></div>           
             <div class="col col-80" > <p class="titletext">Project List</p></div>
             <div class="col col-10"><i class="button-icon ion-log-out close" ng-click="logout()"></i></div>
         </div>
  </ion-header-bar>   

  
  <div class="bar bar-subheader item-input-inset row">
     <div class="col col-90" >
        <label class="item-input-wrapper">
          <i class="icon ion-search"></i>
          <input type="search" placeholder="Search" ng-model="search">         
        </label>
     </div>
     <div class="col col-10" ng-click="NewProject()">
        <i class="icon ion-ios-plus icon-color"></i>      
     </div>   
  </div>
  
  <ion-content class="content_back search has-header has-subheader" padding="true" has-bouncing="false">

          <div class="row"> 
            <div class="col col-50" style="padding-left:20px;">
             <input type="radio" ng-click="checkStatus(true)" ng-checked="assign==true"><span ng-click="checkStatus(true)" style="padding-left: 10px;
          font-size: 17px;"> All</span><br>
            </div>
            <div class="col col-50" style="padding-left:10px;">
             <input type="radio" ng-click="checkStatus(false)" ng-checked="assign==false"><span ng-click="checkStatus(false)" style="padding-left: 10px;font-size: 17px;"> Unapproved</span><br>
            </div>
          </div>   

          <div class="list" ng-repeat="x in ProjectDetails | orderBy:'name' | filter:{approval_status:approve_state} | filter:search">
            <a class="item item-avatar item-icon-right">
              <img src="img/contact.png">
              <h2>{{x.name}}</h2>
              <p>Progress</p>
             </a>
            <a class="item row">
              <i class="icon icon-clr line ion-cash col col-30" ng-click="cost(x.id,x.name,x.budget)">&nbsp;COST</i>
              <i class="icon icon-clr line ion-android-people col col-30" ng-click="teams(x.id,x.name)">&nbsp;TEAMS</i>
              <i class="icon icon-clr ion-ios-time-outline col col-40" ng-click="timesheet_project(x.id,x.name)">&nbsp;TIMESHEET</i> 
            </a>
          </div>
          <div ng-show="ProjectDetails.length==0 || (ProjectDetails | filter:{approval_status:approve_state} | filter:search).length==0" style="color:red;text-align:center;">
             No Projects found
          </div>

  </ion-content>
</ion-view>
